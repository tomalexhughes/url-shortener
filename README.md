<div align="center">
    <h1>URL Shortener</h1>
    <p>This repository contains code for a URL shortener as part of an interview task.</p>
    <br />
    <img
      alt=""
      src="/app.png"
    />
</div>

## Authentication

To prevent implementing full OAuth authentication, API requests are verified with a 'Generic Access Token' that can be generated by logging in to [Bitly](https://app.bitly.com/settings/api/).

## Browser Support

This application makes use of some of the latest ESNext features, as it stands currently not all polyfills have been used and therefore support is not guaranteed outside of the 'evergreen' browsers.

## Environment Variables

The following environment variables are required for the application to work:

* REACT_APP_BITLY_URL (https://api-ssl.bitly.com/v4/)
* REACT_APP_BITLY_GENERIC_TOKEN

## Running the Application

To run the application:

1. Create a `.env.local` file and set `REACT_APP_BITLY_GENERIC_TOKEN` to your token.
2. Run `npm install` to install the required dependencies.
3. Run `npm start` to start the application in development mode.
4. Visit [http://localhost:3000](http://localhost:3000) to view the app in your browser.

NOTE: This app has been tested with Node.js 18. This is the LTS at the time of writing. You can use [nvm](https://github.com/nvm-sh/nvm) to manage your Node versions.

## Scripts & Tooling

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

The list of available scripts can be found in the `package.json` file.

## Tests

Tests are implemented with Jest, Testing Library, and Nock. This allows us to create tests that closely resemble how a user would interact with the real application in the browser, without the overheads of E2E tests.

In the future I would like to replace Nock with [Mock Service Worker](https://mswjs.io/). This would allow:

* Testing in the browser with mock requests
* Replace `node-fetch` with the native Fetch API (which Nock does not currently support)
